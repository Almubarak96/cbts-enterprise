spring.application.name=${SPRING_APPLICATION_NAME:cbt-enterprise}

# ===============================
# Database (from docker-compose .env)
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ===============================
# JWT (from docker-compose .env)
# ===============================
jwt.expirationMs=${JWT_EXPIRATIONMS:60000}
jwt.secret=${JWT_SECRET:your_very_long_random_secret_here_at_least_32_bytes}
jwt.access-exp-sec=900

# ===============================
# Redis (from docker-compose .env)
spring.data.redis.host=${SPRING_DATA_REDIS_HOST}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT}
spring.data.redis.timeout=10000ms
#spring.redis.password=${SPRING_REDIS_PASSWORD}

# ===============================
# Templates (mounted from volume in docker-compose)
# ===============================
cbt.templates.dir=${CBT_TEMPLATES_DIR:/templates}

# ===============================
# Email (from docker-compose .env)
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=50000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

app.mail.from=${APP_MAIL_FROM}

# ===============================
# Storage type (from docker-compose .env)
# ===============================
proctor.storage.type=${PROCTOR_STORAGE_TYPE:LOCAL}

# ===============================
# AWS S3 (only if STORAGE_TYPE=AWS)
# ===============================
aws.s3.bucket-name=my-cbt-bucket
aws.s3.region=us-east-1
aws.s3.access-key=${AWS_S3_ACCESS_KEY:}
aws.s3.secret-key=${AWS_S3_SECRET_KEY:}

# ===============================
# Azure Blob (only if STORAGE_TYPE=AZURE)
# ===============================
azure.blob.container=my-cbt-container
azure.blob.connection-string=${AZURE_BLOB_CONNECTION_STRING:}

# ===============================
# GCP Storage (only if STORAGE_TYPE=GCP)
# ===============================
gcp.storage.bucket=my-cbt-bucket
gcp.storage.credentials-file=${GCP_CREDENTIALS_FILE:path/to/credentials.json}

# ===============================
# Internationalization
# ===============================
spring.messages.basename=messages,ValidationMessages
spring.messages.encoding=UTF-8
spring.messages.fallback-to-system-locale=true
spring.messages.cache-duration=3600

spring.web.locale=en
spring.web.locale-resolver=fixed


# Custom Email Configuration
app.email.provider=${EMAIL_PROVIDER:SMTP}
app.email.from=${EMAIL_FROM}
app.email.from-name=${EMAIL_FROM_NAME}
app.email.max-retry-attempts=${EMAIL_MAX_RETRY_ATTEMPTS:3}
app.email.retry-delay-ms=${EMAIL_RETRY_DELAY_MS:1000}

# SendGrid Configuration
app.email.sendgrid.api-key=${SENDGRID_API_KEY}

# AWS SES Configuration
app.email.aws-ses.access-key=${AWS_SES_ACCESS_KEY}
app.email.aws-ses.secret-key=${AWS_SES_SECRET_KEY}
app.email.aws-ses.region=${AWS_SES_REGION:us-east-1}

# JWT Configuration
#jwt.secret=${JWT_SECRET}
jwt.expiration.ms=${JWT_EXPIRATION_MS:86400000}

# Async Configuration
spring.task.execution.pool.core-size=${ASYNC_CORE_SIZE:5}
spring.task.execution.pool.max-size=${ASYNC_MAX_SIZE:10}
spring.task.execution.pool.queue-capacity=1000
spring.task.execution.thread-name-prefix=async-

# Retry Configuration
spring.retry.enabled=true

# Logging Configuration
logging.level.com.almubaraksuleiman=INFO
logging.file.name=/app/logs/application.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always